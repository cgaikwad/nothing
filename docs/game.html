<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Draggable Image</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        #floating-text {
            transition: background-color 0.3s;
        }
    </style>
</head>
<body class="bg-black text-white h-screen overflow-hidden flex items-center justify-center">
    <div id="draggable" class="cursor-move" draggable="true">
        <img src="images/mercy.png" alt="Draggable Image" class="pointer-events-none" />
    </div>
    <div id="floating-text" class="absolute p-4 rounded shadow-lg bg-gray-800 text-white">
        James
    </div>
    <button id="reset" class="absolute bottom-10 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded">
        Reset
    </button>

    <script>
        const draggable = document.getElementById('draggable');
        const floatingText = document.getElementById('floating-text');
        const resetButton = document.getElementById('reset');

        let posX = 0, posY = 0, mouseX = 0, mouseY = 0;

        draggable.addEventListener('dragstart', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        document.addEventListener('dragover', (e) => {
            e.preventDefault();
            const dx = e.clientX - mouseX;
            const dy = e.clientY - mouseY;
            posX += dx;
            posY += dy;
            draggable.style.transform = `translate(${posX}px, ${posY}px)`;
            mouseX = e.clientX;
            mouseY = e.clientY;

            const rect = draggable.getBoundingClientRect();
            const textRect = floatingText.getBoundingClientRect();
            if (rect.x < textRect.x + textRect.width &&
                rect.x + rect.width > textRect.x &&
                rect.y < textRect.y + textRect.height &&
                rect.y + rect.height > textRect.y) {
                floatingText.textContent = 'DEAD';
                floatingText.style.backgroundColor = 'red';
            }
        });

        resetButton.addEventListener('click', () => {
            posX = 0;
            posY = 0;
            draggable.style.transform = 'translate(0px, 0px)';
            floatingText.textContent = 'James';
            floatingText.style.backgroundColor = 'gray';
        });

        // Floating text animation
        let x = 0, y = 0, vx = 2, vy = 2;
        function animate() {
            requestAnimationFrame(animate);
            
            x += vx;
            y += vy;
        
            // Check if the text is going out of the horizontal boundaries
            if (x <= 0) {
                x = 0;
                vx *= -1;
            } else if (x + floatingText.offsetWidth >= window.innerWidth) {
                x = window.innerWidth - floatingText.offsetWidth;
                vx *= -1;
            }
        
            // Check if the text is going out of the vertical boundaries
            if (y <= 0) {
                y = 0;
                vy *= -1;
            } else if (y + floatingText.offsetHeight >= window.innerHeight) {
                y = window.innerHeight - floatingText.offsetHeight;
                vy *= -1;
            }
        
            floatingText.style.transform = `translate(${x}px, ${y}px)`;
        }

        animate();
    </script>
</body>
</html>
